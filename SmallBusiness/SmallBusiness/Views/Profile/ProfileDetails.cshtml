@model SmallBusiness.ViewModels.ContactProfileViewModel
@{
    string profileDetailsUrl = Url.Action("ProfileDetails", "Profile", new { profileId = ViewBag.ProfileDetails.Profile.ProfileId }, protocol: ViewContext.HttpContext.Request.Scheme);
}
<!-- Portfolio Section Start -->
<div class="section section-padding border-bottom">
    <div class="container">
        <div class="row learts-mb-n30">

            <div class="col-xl-6 col-12 learts-mb-30">
                    <img src="@ViewBag.ProfileDetails.Profile.ProfileImage" alt="" style="width:400px;height400px;border-radius:50%">
            </div>

            <div class="col-xl-6 col-12 learts-mb-30">
                <div class="portfolio-content">
                    <h2 class="title">@ViewBag.ProfileDetails.Profile.ShopName</h2>
                    <div class="desc">
                        <p>@ViewBag.ProfileDetails.Profile.Description</p>
                       
                    </div>
                    <ul class="meta">
                        @*<li>
                            <span class="name">Date:</span>
                            <span class="value">02:27 AM - November 22, 2018</span>
                        </li>
                        <li>
                            <span class="name">Categories:</span>
                            <span class="value category">
                                <a href="#">Decor</a>
                                <a href="#">Toy</a>
                            </span>
                        </li>
                        <li>
                            <span class="name">Tags:</span>
                            <span class="value tags">
                                <a href="#">trending</a>
                            </span>
                        </li>*@
                        <li>
                            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#contactModal">Contact Seller</button>

                        </li>
                        <li>
                            <span class="name">Links:</span>
                            <span class="value">

                                <p>Share this link with your friends:</p>
                                <button onclick="copyToClipboard('@profileDetailsUrl')" class="btn btn-primary">Copy Link</button>
                            </span>
                        </li>
                    </ul>
                </div>
            </div>

        </div>
    </div>

</div>
<!-- Portfolio Section End -->

<!-- Product Style One Section Start -->
<div class="section section-padding">
    <div class="container">
        <!-- Section Title Start -->
        <div class="section-title2 text-center">
            <h2 class="title">Products by @ViewBag.ProfileDetails.Profile.ShopName</h2>
        </div>
        <!-- Section Title End -->

        <div class="product-carousel">
             @foreach (var product in @ViewBag.ProfileDetails.Products)
            {
            <div class="col">
                <div class="product">
                    <div class="product-thumb">
                        <a href="product-details.html" class="image">
                                <img src="~/CategoryImg/@product.ImageUrl" alt="Product Image">
                                <img class="image-hover " src="~/CategoryImg/@product.ImageUrl" alt="Product Image">
                        </a>
                        <a href="wishlist.html" class="add-to-wishlist hintT-left" data-hint="Add to wishlist"><i class="far fa-heart"></i></a>
                    </div>
                    <div class="product-info">
                            <h6 class="title"><a href="product-details.html">@product.ProductName</a></h6>
                        <span class="price">
                                $@product.ProductPrice
                        </span>
                        <div class="product-buttons">
                            <a href="#quickViewModal" data-bs-toggle="modal" class="product-button hintT-top" data-hint="Quick View"><i class="fas fa-search"></i></a>
                            <a href="#" class="product-button hintT-top" data-hint="Add to Cart"><i class="fas fa-shopping-cart"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            }
        </div>

    </div>
</div>
<!-- Product Style One Section End -->



<!--Contact Modal-->
<div class="modal fade" id="contactModal" tabindex="-1" aria-labelledby="contactModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="contactModalLabel">Contact Seller</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Your contact form with hidden field for profileId -->
                <form action="@Url.Action("SendMessage", "Profile")" method="post">
                    <!-- Hidden field for profileId -->
                    <input type="hidden" name="profileId" value="@ViewBag.ProfileDetails.Profile.ProfileId">

                    <!-- Include fields for user to enter name, email, and message -->
                    <div class="mb-3">
                        <label for="contactName" class="form-label">Your Name</label>
                        <input type="text" asp-for="Name" class="form-control" id="contactName" name="Name" required>
                    </div>
                    <div class="mb-3">
                        <label for="contactEmail" class="form-label">Your Email</label>
                        <input type="email" asp-for="Email" class="form-control" id="contactEmail" name="Email" required>
                    </div>
                    <div class="mb-3">
                        <label for="contactMessage" class="form-label">Your Message</label>
                        <textarea class="form-control" asp-for="Message" id="contactMessage" name="Message" rows="4" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Send Message</button>
                </form>
            </div>
        </div>
    </div>
</div>



<script>
    function copyToClipboard(link) {
        var input = document.createElement('input');
        input.setAttribute('value', link);
        document.body.appendChild(input);
        input.select();
        document.execCommand('copy');
        document.body.removeChild(input);

        alert("Link copied to clipboard!");
    }
</script>